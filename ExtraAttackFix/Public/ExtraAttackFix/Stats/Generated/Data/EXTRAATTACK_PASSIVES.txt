new entry "ExtraAttack"
type "PassiveData"
data "DisplayName" "hcf90a672g10deg4b3egad4fg9094c6ac6224;1"
data "Description" "he37249cfg5d71g499cg82d9gc369133f2066;2"
data "Icon" "PassiveFeature_ExtraAttack"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnCast;OnStatusRemoved"
data "Conditions" "not IsCantrip() and ((not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and (HasStringInSpellRoll('WeaponAttack') or HasStringInSpellRoll('UnarmedAttack') or SpellId('Target_CommandersStrike') or SpellId('Projectile_ArrowOfSmokepowder')) and HasUseCosts('ActionPoint', true) and not Tagged('EXTRA_ATTACK_BLOCKED',context.Source) and TurnBased(context.Source)) or (context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and StatusId('INITIAL_ATTACK_TECHNICAL') and TurnBased()))"
data "StatsFunctors" "IF(HasAnyExtraAttack(context.Source) and not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(SELF,EXTRA_ATTACK_Q,100,1);IF(not HasAnyExtraAttack(context.Source) and not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(SELF,EXTRA_ATTACK,100,1);IF(HasAnyExtraAttack(context.Target) and context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(EXTRA_ATTACK_Q,100,1);IF(not HasAnyExtraAttack(context.Target) and context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(EXTRA_ATTACK,100,1)"

new entry "ExtraAttack_2"
type "PassiveData"
data "DisplayName" "h3e6c622egb059g47e7gb925g7e82eae1bfda;2"
data "Description" "h36aba2dbg6f37g4343ga32egcab0fd7edcb3;1"
data "Icon" "PassiveFeature_ExtraAttack"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnCast;OnStatusRemoved"
data "Conditions" "not IsCantrip() and ((not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and (HasStringInSpellRoll('WeaponAttack') or HasStringInSpellRoll('UnarmedAttack') or SpellId('Target_CommandersStrike') or SpellId('Projectile_ArrowOfSmokepowder')) and HasUseCosts('ActionPoint', true) and not Tagged('EXTRA_ATTACK_BLOCKED',context.Source) and TurnBased(context.Source)) or (context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and StatusId('INITIAL_ATTACK_TECHNICAL') and TurnBased()))"
data "StatsFunctors" "IF(HasAnyExtraAttack(context.Source) and not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(SELF,EXTRA_ATTACK_2_Q,100,1);IF(not HasAnyExtraAttack(context.Source) and not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(SELF,EXTRA_ATTACK_2,100,1);IF(HasAnyExtraAttack(context.Target) and context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(EXTRA_ATTACK_2_Q,100,1);IF(not HasAnyExtraAttack(context.Target) and context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(EXTRA_ATTACK_2,100,1)"

new entry "ThirstingBlade_Blade"
type "PassiveData"
data "DisplayName" "h11ac5235g4304g4acbgb3deg485e03c6ad07;3"
data "Icon" "PassiveFeature_ThirstingBlade"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast;OnStatusRemoved"
data "Conditions" "not IsCantrip() and ((not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and (HasStringInSpellRoll('WeaponAttack') or HasStringInSpellRoll('UnarmedAttack') or SpellId('Target_CommandersStrike') or SpellId('Projectile_ArrowOfSmokepowder')) and HasUseCosts('ActionPoint', true) and not Tagged('EXTRA_ATTACK_BLOCKED',context.Source) and TurnBased(context.Source)) or (context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and StatusId('INITIAL_ATTACK_TECHNICAL') and TurnBased())) and HasPactWeapon() and HasPassive('PactOfTheBlade',context.Source)"
data "StatsFunctors" "IF(HasAnyExtraAttack(context.Source) and not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(SELF,EXTRA_ATTACK_THIRSTING_BLADE_Q,100,1);IF(not HasAnyExtraAttack(context.Source) and not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(SELF,EXTRA_ATTACK_THIRSTING_BLADE,100,1);IF(HasAnyExtraAttack(context.Target) and context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(EXTRA_ATTACK_THIRSTING_BLADE_Q,100,1);IF(not HasAnyExtraAttack(context.Target) and context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(EXTRA_ATTACK_THIRSTING_BLADE,100,1)"

new entry "WarPriest"
type "PassiveData"
data "DisplayName" "h4c1f2f2dg8a14g4391gaf11g78e249692115;2"
data "Description" "h5846ba7cg19b5g475cg88dbg2ea9d3793ea6;3"
data "Icon" "PassiveFeature_WarPriest"
data "Properties" "Highlighted"
data "StatsFunctorContext" "OnCast;OnStatusRemoved"
data "Conditions" "not IsCantrip() and ((not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and (HasStringInSpellRoll('WeaponAttack') or HasStringInSpellRoll('UnarmedAttack') or SpellId('Target_CommandersStrike') or SpellId('Projectile_ArrowOfSmokepowder')) and HasUseCosts('ActionPoint', true) and not Tagged('EXTRA_ATTACK_BLOCKED',context.Source) and TurnBased(context.Source)) or (context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and StatusId('INITIAL_ATTACK_TECHNICAL') and TurnBased())) and HasActionResource('WarPriestActionPoint', 1, 0, false, false, context.Source) and not HasStatus('TAD_MIND_SANCTUARY',context.Source) and HasActionResource('BonusActionPoint', 1, 0, false, false, context.Source)"
data "StatsFunctors" "IF(HasAnyExtraAttack(context.Source) and not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(SELF,EXTRA_ATTACK_WAR_PRIEST_Q,100,1);IF(not HasAnyExtraAttack(context.Source) and not context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(SELF,EXTRA_ATTACK_WAR_PRIEST,100,1);IF(HasAnyExtraAttack(context.Target) and context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(EXTRA_ATTACK_WAR_PRIEST_Q,100,1);IF(not HasAnyExtraAttack(context.Target) and context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(EXTRA_ATTACK_WAR_PRIEST,100,1)"

new entry "CombatStartAttack"
type "PassiveData"
data "DisplayName" "h90eb6b16gf0a5g481ega2e1g80352b0239a7;1"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast;OnAttack"
data "Conditions" "not Tagged('EXTRA_ATTACK_BLOCKED',context.Source) and not TurnBased(context.Source)"
data "StatsFunctors" "IF((HasStringInSpellRoll('WeaponAttack') or HasStringInSpellRoll('UnarmedAttack') or SpellId('Target_CommandersStrike') or SpellId('Projectile_ArrowOfSmokepowder')) and HasUseCosts('ActionPoint', true) and not IsCantrip()):ApplyStatus(SELF,INITIAL_ATTACK_TECHNICAL,100,1);IF(IsWeaponAttack() and IsMiss()):ApplyStatus(SELF,INITIAL_ATTACK_STALKERS_FLURRY_TECHNICAL,100,1);IF(IsCantrip() and HasUseCosts('ActionPoint', true)):ApplyStatus(SELF,INITIAL_ATTACK_WAR_MAGIC_TECHNICAL,100,1);IF(IsSpell() and HasUseCosts('ActionPoint', true)):ApplyStatus(SELF,INITIAL_ATTACK_IMBUED_BLADE_TECHNICAL,100,1)"

new entry "CommanderStrike"
type "PassiveData"
data "DisplayName" "he15bb13fgfaa7g453egbfbeg02d7303f212a;1"
data "Description" "h535ece0cg8942g4757gb6cagc9093c60cb77;2"
data "DescriptionParams" "LevelMapValue(SuperiorityDie)"
data "Icon" "Action_CommandersStrike"
data "EnabledConditions" "((context.HasContextFlag(StatsFunctorContext.OnActionResourcesChanged)) and HasActionResource('ReactionActionPoint', 1, 0, false, false, context.Source) and not HasStatus('EXTRA_ATTACK',context.Source) and not HasStatus('EXTRA_ATTACK_2',context.Source)) or ((not context.HasContextFlag(StatsFunctorContext.OnActionResourcesChanged)) and HasActionResource('ReactionActionPoint', 1, 0, false) and not HasStatus('EXTRA_ATTACK') and not HasStatus('EXTRA_ATTACK_2'))"
data "EnabledContext" "OnStatusApplied;OnActionResourcesChanged;OnStatusRemoved"
data "Properties" "ToggledDefaultOn;IsToggled;ToggledDefaultAddToHotbar;Temporary"
data "Boosts" "UnlockSpellVariant(GVIE_ExtraAttackCheck(),ModifyUseCosts(Replace,ReactionActionPoint,1,0,ActionPoint),ModifyIconGlow(),ModifyTooltipDescription());"